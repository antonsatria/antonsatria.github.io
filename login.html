<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>login</title>
    <link rel="apple-touch-icon" sizes="180x180" href="ico/android-chrome-192x192.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="ico/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="ico/favicon-16x16.png"/>
    <link rel="manifest" href="/site.webmanifest">
    <h1 md-6>login</h1>

  <body>
    <div id="col" class="lg-6" >
        <div class="alert alert-success alert-dismissible fade show d-none my-alert" role="alert">
          <strong>terima kasih</strong> login anda sudah saya terima.
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
          <form name="anton-login-form">
              <div class="mb-3">
                <label for="name" class="form-label">email</label>
                <input type="email" class="form-control" id="email" aria-describedby="email" name="email"/>
                <small id="emailHelp" class="form-text text-muted">login*.</small>
              </div>
              <div class="mb-3">
                <label for="password" class="form-label">passowrd</label>
                <input type="password" class="form-control" id="password" id="password" aria-describedby="password" name="password">
              </div>
              <div class="form-group form-check">
                <input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1">setuju dengan persyartan dan kentuan*</label>
              </div>
              <div>
              </div>
              <button class="btn btn-primary btn-loading d-none" type="button" disabled>
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Loading...
              </button>
            </form>

      </div>
  </div>

</div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
    -->

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbw6CXPcbnf5xMgWMxKma9ld0hH-xj-ZXuXdG3qp-5AZ9AH-tYEaSAragbRz17VXtgdG/exec'
        const form = document.forms['anton-login-form']
        const btnkirim = document.querySelector('.btn-kirim');
        const btnloading = document.querySelector('.btn-loading');
        const myalert = document.querySelector('.my-alert');
        
        form.addEventListener('submit', e => {
          e.preventDefault()
          // ketika tombol submit diklik
          // tampilkan tombol loading, hilangkan tombol kirim
          btnloading.classList.toggle('d-none');
          btnkirim.classList.toggle('d-none');
          fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => {
              btnloading.classList.toggle('d-none');
              btnkirim.classList.toggle('d-none');
              //tampilkan alert
              myalert.classList.toggle('d-none')
              //reset formnya
              form.reset();
              console.log('Success!', response)
            })
            .catch(error => console.error('Error!', error.message))
        })
      </script>
  </body>
</html>